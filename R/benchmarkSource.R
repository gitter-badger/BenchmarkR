BenchmarkEnvironment <- new.env()
ExecEnvironment <- new.env(parent = BenchmarkEnvironment)

ExecEnvironment$TIMINGS <- data.frame(
  runId = character(0),   # start date and time %C%g%m%d%H%M%S
                          #   and 3 digit random number generated by:
                          #   as.integer(sample(0:999, 1))
  file = character(0),    # full script name being benchmarked
  process = character(0), # name of process
  start = numeric(0),     # start time of process
  end = numeric(0),       # end time process
  duration = numeric(0)   # duration process
  , stringsAsFactors = F
)

ExecEnvironment$BENCHMARKS <- data.frame(
  runId = character(0),   # unique runId
  file = character(0),    # full script name being benchmarked
  time = numeric(0)   # duration process
  , stringsAsFactors = F
)

ExecEnvironment$META <- data.frame(
  runId = character(0),   # unique runId
  Variable = character(0),    # full script name being benchmarked
  Value = numeric(0)   # duration process
  , stringsAsFactors = F
)

ExecEnvironment$WARNINGS <- data.frame(
  runId = character(0),   # unique runId
  file = character(0),    # full script name being benchmarked
  direct_call = character(0)   # duration process
  , stringsAsFactors = F
)

benchmarkSource <- function(file) {
  runId <- getId()
  #systemId <- getSysId()
  assign("file", file, envir = BenchmarkEnvironment)
  assign("runId", runId, envir = BenchmarkEnvironment)

  B_start <- as.numeric(Sys.time())
  source(file, local = ExecEnvironment)
  B_end <- as.numeric(Sys.time())

  setTiming(p="BENCHMARK", s=B_start, e=B_end)
  setBenchmark()
  benchmark <- getAllBenchmarks()
  benchmark
  return(benchmark)
}
